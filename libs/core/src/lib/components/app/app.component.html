<ion-app>
  <div *ngIf="(this.sioCoreAppComponentState.leftPanelType === 'none' &&  this.sioCoreAppComponentState.rightPanelType === 'none') || this.sioCoreAppComponentState.full; then blank; else split"></div>
  <ng-template #split> 
    <ion-split-pane side="start" when="lg" contentId="main-content" (ionSplitPaneVisible)="sioAppSplitPanelVisible($event)">
      <ion-menu contentId="main-content" [type]="!(this.sioCoreAppComponentState.leftPanelType === 'none' ||  this.sioCoreAppComponentState.sidemenu === 'toogle')?this.sioCoreAppComponentState.sidemenu:'reveal'" [swipeGesture]="(this.sioCoreAppComponentState.sidemenu !== 'toogle')">
        <ion-header class="ion-no-border">
          <ion-toolbar [color]="this.color">
            <div #side_header>
              <ng-content select="[slot='side_header']"></ng-content>
            </div>
            <ng-container *ngIf="!side_header.hasChildNodes()">
              <ion-title>{{
                (this.sioCoreAppComponentState.state$ | async)?.title
                }}</ion-title>
            </ng-container>
          </ion-toolbar> 
        </ion-header>
        <ion-content>
          <sio-menu *ngIf="this.tab && this.sioCoreAppComponentState.split && this.sioCoreAppComponentState.sidemenu === 'tab'" id="tab"></sio-menu>
          <div #side_content>
            <ng-content select="[slot='side_content']"></ng-content>
          </div>
          <ng-container *ngIf="!side_content.hasChildNodes()">
            <sio-menu *ngIf="this.menu" [id]="this.menu"></sio-menu>
          </ng-container>
        </ion-content>
        <ion-footer class="ion-no-border">
          <div #side_footer>
            <ng-content select="[slot='side_footer']"></ng-content>
          </div>
          <ng-container *ngIf="!side_footer.hasChildNodes()">
            <ion-toolbar class="ion-no-border" [color]="this.color">
                <ion-item lines="none" [color]="this.color"><ion-label>powered by Sio</ion-label></ion-item>
              <ion-buttons slot="end">
                <ion-button href="https://github.com/silicia-apps/sio" target="_blank" shape="round" fill="clear">
                  <ion-icon slot="start" name="logo-github"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ng-container>
        </ion-footer>
      </ion-menu>  <ion-menu *ngIf="false" side="end" contentId="right-content" [type]="!(this.sioCoreAppComponentState.sidemenu === 'none' ||  this.sioCoreAppComponentState.sidemenu === 'toogle')?this.sioCoreAppComponentState.sidemenu:'reveal'" [swipeGesture]="(this.sioCoreAppComponentState.sidemenu !== 'toogle')">
        <ion-header class="ion-no-border">
          <ion-toolbar>
            <div #right_header>
              <ng-content select="[slot='right_header']"></ng-content>
            </div>
            <ng-container *ngIf="!right_header.hasChildNodes()">
              <ion-title>{{
                (this.sioCoreAppComponentState.state$ | async)?.title
                }}</ion-title>
            </ng-container>
          </ion-toolbar> 
        </ion-header>
        <ion-content>
          <div #right_content>
            <ng-content select="[slot='right_content']"></ng-content>
          </div>
          <ng-container *ngIf="!right_content.hasChildNodes()">
          </ng-container>
        </ion-content>
        <ion-footer class="ion-no-border">
          <div #right_footer>
            <ng-content select="[slot='right_footer']"></ng-content>
          </div>
          <ng-container *ngIf="!right_footer.hasChildNodes()">
            <ion-toolbar>
              <ion-item lines="none"><ion-label>Writed with love</ion-label></ion-item>
              <ion-buttons slot="end">
                <ion-button href="https://github.com/silicia-apps/sio" target="_blank" shape="round" fill="clear">
                  <ion-icon slot="start" name="home"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ng-container>
        </ion-footer>
      </ion-menu>
      <ion-router-outlet id="main-content">
        <ng-content></ng-content>
        <sio-menu *ngIf="this.tab" id="tab" position="bottom"></sio-menu>
      </ion-router-outlet>
    </ion-split-pane>
  </ng-template>
  <ng-template #blank>
    <ion-router-outlet id="main-content">
      <sio-menu *ngIf="this.tab && this.sioCoreAppComponentState.fullmode && this.sioCoreAppComponentState.sidemenu === 'tab' " id="tab" [position]="'bottom' //(this.split$ | async)?'top':'bottom'"></sio-menu>
      <ng-content></ng-content>
    </ion-router-outlet>
  </ng-template>
</ion-app>